<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Como Entender sua TFFR - Taxa de Fiscaliza√ß√£o do Funcionamento Regular</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .section {
            background: white;
            margin: 30px 0;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }

        .section-title {
            color: #5a67d8;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            border-bottom: 3px solid #9f7aea;
            padding-bottom: 10px;
        }

        .icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .calculation-box {
            background: linear-gradient(135deg, #9f7aea 0%, #667eea 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .formula-box {
            background: linear-gradient(135deg, #e6fffa 0%, #f0fff4 100%);
            border: 2px solid #9f7aea;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
        }

        .formula-title {
            color: #5a67d8;
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 10px;
            font-family: 'Segoe UI', sans-serif;
        }

        .formula-content {
            font-size: 1.3em;
            color: #2d3748;
            margin: 10px 0;
        }

        .formula-variables {
            font-size: 0.9em;
            color: #4a5568;
            margin-top: 10px;
            font-family: 'Segoe UI', sans-serif;
            text-align: left;
        }

        .factor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .factor-card {
            background: linear-gradient(135deg, #9f7aea 0%, #667eea 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .factor-card:hover {
            transform: scale(1.05);
        }

        .factor-card h4 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .factor-value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .example-business {
            background: linear-gradient(135deg, #fef5e7 0%, #fed7aa 100%);
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #f6ad55;
            margin: 20px 0;
        }

        .business-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .info-item strong {
            color: #d63031;
            display: block;
            font-size: 1.1em;
        }

        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        th, td {
            border: 1px solid #e5e7eb;
            padding: 12px 8px;
            text-align: center;
        }

        th {
            background: linear-gradient(135deg, #e6fffa 0%, #f0fff4 100%);
            color: #2d3748;
            font-weight: 600;
            font-size: 0.9em;
        }

        td {
            background-color: #f9fafb;
        }

        .highlight {
            background-color: #fed7aa !important;
            font-weight: bold;
        }

        .progress-bar {
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #9f7aea, #667eea);
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: width 2s ease;
        }

        .final-result {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5em;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .tip-box {
            background: #fef5e7;
            border: 1px solid #fed7aa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #f6ad55;
            color: #2d3748;
        }

        .tip-box::before {
            content: "üí° ";
            font-size: 1.5em;
        }

        .warning-box {
            background: #fed7d7;
            border: 1px solid #fc8181;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #e53e3e;
            color: #2d3748;
        }

        .warning-box::before {
            content: "‚ö†Ô∏è ";
            font-size: 1.5em;
        }

        .interactive-button {
            background: linear-gradient(135deg, #9f7aea 0%, #667eea 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .interactive-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .interactive-button-primary {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%) !important;
            padding: 18px 40px !important;
            font-size: 1.3em !important;
            font-weight: bold !important;
            animation: pulse 2s infinite !important;
        }

        .interactive-button-secondary {
            background: rgba(159, 122, 234, 0.1) !important;
            color: #9f7aea !important;
            border: 2px solid #9f7aea !important;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3); }
            50% { box-shadow: 0 8px 25px rgba(72, 187, 120, 0.5); }
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #a0aec0;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .step.active {
            background: #9f7aea;
            transform: scale(1.2);
        }

        .hidden {
            display: none;
        }

        .type-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .type-card {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .type-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .type-card.selected {
            border: 3px solid #f6ad55;
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            .section { padding: 20px; }
            .factor-grid { grid-template-columns: 1fr; }
            .business-info { grid-template-columns: 1fr; }
            .type-selector { grid-template-columns: 1fr; }
            th, td { padding: 8px 4px; font-size: 0.8em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè¢ Como Entender sua TFFR</h1>
            <p>Desvendando de forma simples como √© calculada a Taxa de Fiscaliza√ß√£o do Funcionamento Regular</p>
        </div>

        <div class="step-indicator">
            <div class="step active" data-step="1">1</div>
            <div class="step" data-step="2">2</div>
            <div class="step" data-step="3">3</div>
            <div class="step" data-step="4">4</div>
            <div class="step" data-step="5">5</div>
        </div>

        <!-- Se√ß√£o 1: Introdu√ß√£o -->
        <div class="section step-content" data-step="1">
            <h2 class="section-title">
                <span class="icon">üéØ</span>
                O que √© a TFFR?
            </h2>
            <p style="font-size: 1.1em; margin-bottom: 20px;">
                A TFFR √© a <strong>Taxa de Fiscaliza√ß√£o do Funcionamento Regular</strong> de atividades econ√¥micas, popularmente conhecida como "Taxa de Alvar√°". 
                √â um tributo municipal que voc√™ paga anualmente para custear os servi√ßos de fiscaliza√ß√£o e controle 
                que a prefeitura realiza no seu estabelecimento comercial, industrial ou de presta√ß√£o de servi√ßos.
            </p>
            
            <p style="font-size: 1.1em; margin-bottom: 20px; background: #f7fafc; padding: 15px; border-radius: 8px; border-left: 4px solid #9f7aea;">
                üí° <strong>Pense assim:</strong> A TFFR √© como uma mensalidade de seguran√ßa de um condom√≠nio. 
                Voc√™ paga para que a prefeitura mantenha fiscais verificando se todos os estabelecimentos est√£o 
                funcionando corretamente, garantindo seguran√ßa e ordem no com√©rcio da cidade.
            </p>

            <div class="example-business">
                <h3>üè™ Vamos usar exemplos pr√°ticos:</h3>
                <div class="business-info">
                    <div class="info-item">
                        <strong>üè™ Pequeno</strong><br>
                        Loja de Roupas 50m¬≤<br>
                        TFFR: 1,44 √ó UPF
                    </div>
                    <div class="info-item">
                        <strong>üè¢ M√©dio</strong><br>
                        Farm√°cia 120m¬≤<br>
                        TFFR: 3,44 √ó UPF
                    </div>
                    <div class="info-item">
                        <strong>üè≠ Grande</strong><br>
                        Dep√≥sito 800m¬≤<br>
                        TFFR: 22,8 √ó UPF
                    </div>
                    <div class="info-item">
                        <strong>üìä UPF 2025</strong><br>
                        Valor de refer√™ncia<br>
                        (Ser√° definido pela prefeitura)
                    </div>
                </div>
            </div>

            <div style="background: #e6fffa; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #38a169;">
                <h4 style="color: #2d3748; margin-bottom: 10px;">üèõÔ∏è Contexto das Taxas de Poder de Pol√≠cia:</h4>
                <p><strong>üìã V√°rias taxas existem:</strong> TFFR √© apenas uma das taxas que a prefeitura cobra para fiscalizar atividades.</p>
                <p><strong>üîç Outras taxas incluem:</strong> Taxa de Licen√ßa de Localiza√ß√£o, Taxa de Fiscaliza√ß√£o Sanit√°ria, Taxa de Licen√ßa Ambiental, etc.</p>
                <p><strong>‚öñÔ∏è Base legal:</strong> Todas essas taxas est√£o previstas na Lei Complementar n¬∫ 878/2021 de Porto Velho.</p>
                <p style="margin-top: 15px; font-style: italic;">Nesta apresenta√ß√£o, vamos focar especificamente em como calcular a TFFR!</p>
            </div>

            <div class="tip-box">
                <strong>Entenda melhor:</strong> A TFFR √© diferente da Taxa de Licen√ßa. A Taxa de Licen√ßa voc√™ paga uma vez 
                para abrir o neg√≥cio. A TFFR √© anual e cobre os custos cont√≠nuos de fiscaliza√ß√£o do seu estabelecimento.
            </div>

            <button class="interactive-button" onclick="nextStep()">Vamos descobrir como √© calculada! ‚Üí</button>
        </div>

        <!-- Se√ß√£o 2: Escolha do Tipo -->
        <div class="section step-content hidden" data-step="2">
            <h2 class="section-title">
                <span class="icon">üè™</span>
                Primeiro: Que Tipo de Estabelecimento?
            </h2>
            
            <p style="font-size: 1.1em; margin-bottom: 20px;">
                O c√°lculo da TFFR depende das caracter√≠sticas do seu estabelecimento. 
                Escolha abaixo o tipo que mais se parece com o seu neg√≥cio para ver um exemplo personalizado:
            </p>

            <div class="type-selector">
                <div class="type-card" onclick="selectType('pequeno')" id="pequeno-card">
                    <h3>üè™ Estabelecimento Pequeno</h3>
                    <p style="margin: 15px 0;">Com√©rcio local, servi√ßos simples</p>
                    <ul style="text-align: left; margin: 10px 0;">
                        <li>√Årea at√© 100m¬≤</li>
                        <li>Funcionamento diurno</li>
                        <li>Atividade simples</li>
                        <li><strong>Exemplo: Loja de roupas 50m¬≤</strong></li>
                    </ul>
                </div>
                
                <div class="type-card" onclick="selectType('medio')" id="medio-card">
                    <h3>üè¢ Estabelecimento M√©dio</h3>
                    <p style="margin: 15px 0;">Com√©rcio estruturado, servi√ßos especializados</p>
                    <ul style="text-align: left; margin: 10px 0;">
                        <li>√Årea de 100-500m¬≤</li>
                        <li>Funcionamento estendido</li>
                        <li>Atividade moderada</li>
                        <li><strong>Exemplo: Farm√°cia 120m¬≤</strong></li>
                    </ul>
                </div>
                
                <div class="type-card" onclick="selectType('grande')" id="grande-card">
                    <h3>üè≠ Estabelecimento Grande</h3>
                    <p style="margin: 15px 0;">Ind√∫stria, com√©rcio atacadista</p>
                    <ul style="text-align: left; margin: 10px 0;">
                        <li>√Årea acima de 500m¬≤</li>
                        <li>Funcionamento extenso</li>
                        <li>Atividade complexa</li>
                        <li><strong>Exemplo: Dep√≥sito 800m¬≤</strong></li>
                    </ul>
                </div>
            </div>

            <div class="tip-box">
                <strong>D√∫vida sobre o tamanho?</strong> Considere a √°rea total que sua atividade ocupa, incluindo 
                √°reas de atendimento, estoque, escrit√≥rio, etc. Se funciona em hor√°rio comercial normal, 
                provavelmente √© um estabelecimento pequeno ou m√©dio.
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: 60%;">
                    Escolha o tipo do seu estabelecimento
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="interactive-button" id="continue-button" onclick="nextStep()" style="opacity: 0.5; cursor: not-allowed;" disabled>
                    Continuar ap√≥s escolher o tipo ‚Üí
                </button>
            </div>
        </div>

        <!-- Se√ß√£o 3: Tempo de Funcionamento -->
        <div class="section step-content hidden" data-step="3">
            <h2 class="section-title">
                <span class="icon">‚è∞</span>
                Segundo: Tempo de Funcionamento
            </h2>
            
            <p style="font-size: 1.1em; margin-bottom: 20px;">
                A TFFR considera quantas horas por dia seu estabelecimento funciona, separando entre 
                <strong>per√≠odo diurno</strong> (6h √†s 18h) e <strong>per√≠odo noturno</strong> (18h √†s 6h do dia seguinte). 
                O per√≠odo noturno tem custo maior devido √† complexidade da fiscaliza√ß√£o.
            </p>

            <div class="example-business" id="time-example">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div style="background: #f0fff4; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #48bb78;">
                <h4 style="color: #2d3748; margin-bottom: 10px;">‚è∞ Como funciona o c√°lculo de tempo:</h4>
                <p><strong>üåÖ Per√≠odo Diurno (6h √†s 18h):</strong> Custo = 15% da UPF por hora</p>
                <p><strong>üåô Per√≠odo Noturno (18h √†s 6h):</strong> Custo = 20% da UPF por hora</p>
                <p><strong>üìä C√°lculo:</strong> Soma os custos dos dois per√≠odos conforme o funcionamento</p>
                <p style="margin-top: 15px; font-weight: bold; color: #38a169;">UPF = Unidade Padr√£o Fiscal (valor de refer√™ncia municipal)</p>
            </div>

            <div class="factor-grid" id="time-factors">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div class="calculation-box" id="time-calculation">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div class="tip-box">
                <strong>Dica importante:</strong> Se seu estabelecimento funciona das 8h √†s 19h, por exemplo, 
                voc√™ teria 8 horas no per√≠odo diurno (8h √†s 18h) e 1 hora no per√≠odo noturno (18h √†s 19h).
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: 50%;" id="time-progress">
                    <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
                </div>
            </div>

            <button class="interactive-button" onclick="nextStep()">Pr√≥ximo: Fator de Atividade ‚Üí</button>
        </div>

        <!-- Se√ß√£o 4: Fator de Atividade -->
        <div class="section step-content hidden" data-step="4">
            <h2 class="section-title">
                <span class="icon">üìè</span>
                Terceiro: Fator de Atividade e √Årea
            </h2>
            
            <p style="font-size: 1.1em; margin-bottom: 20px;">
                O <strong>Fator de Atividade</strong> considera o tamanho da √°rea que seu estabelecimento ocupa. 
                Quanto maior a √°rea, maior o fator, pois estabelecimentos maiores demandam mais fiscaliza√ß√£o. 
                Al√©m disso, h√° diferentes coeficientes conforme o tipo de ocupa√ß√£o da √°rea.
            </p>

            <div class="example-business" id="area-example">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <h4 style="color: #5a67d8; margin: 20px 0 10px 0;">üìä Tabela de Fatores de Atividade (por √°rea):</h4>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Categoria</th>
                            <th>√Årea</th>
                            <th>Fator</th>
                            <th>Exemplo</th>
                        </tr>
                    </thead>
                    <tbody id="activity-table">
                        <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
                    </tbody>
                </table>
            </div>

            <div style="background: #e6fffa; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #38a169;">
                <h4 style="color: #2d3748; margin-bottom: 10px;">üèóÔ∏è Tipos de √Årea e Coeficientes:</h4>
                <p><strong>üè¢ √Årea Constru√≠da (C1 = 1,0):</strong> Espa√ßo coberto onde funciona a atividade</p>
                <p><strong>üöó √Årea com Explora√ß√£o Econ√¥mica (C2 = 0,75):</strong> P√°tio, estacionamento utilizado</p>
                <p><strong>üå≥ √Årea sem Explora√ß√£o (C3 = 0,25):</strong> √Årea verde, espa√ßos n√£o utilizados</p>
                <p style="margin-top: 15px; font-weight: bold; color: #38a169;" id="area-coefficient-info">
                    <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
                </p>
            </div>

            <div class="factor-grid" id="area-factors">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div class="calculation-box" id="area-calculation">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: 75%;" id="area-progress">
                    <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
                </div>
            </div>

            <button class="interactive-button" onclick="nextStep()">Calcular o Valor Final! ‚Üí</button>
        </div>

        <!-- Se√ß√£o 5: C√°lculo Final -->
        <div class="section step-content hidden" data-step="5">
            <h2 class="section-title">
                <span class="icon">üßÆ</span>
                Quarto: O C√°lculo Final da TFFR
            </h2>
            
            <p style="font-size: 1.1em; margin-bottom: 20px;">
                Agora que temos todos os componentes, vamos aplicar a f√≥rmula oficial da TFFR. 
                √â uma multiplica√ß√£o simples: o componente de tempo pelo componente de √°rea!
            </p>

            <div class="formula-box">
                <div class="formula-title">üßÆ F√≥rmula Oficial da TFFR</div>
                <div class="formula-content">TFFR = [(hd √ó Tfd) + (hn √ó Tfn)] √ó [(K √ó C1) + (X √ó C2) + (Y √ó C3)]</div>
                <div class="formula-variables">
                    <strong>Onde:</strong><br>
                    ‚Ä¢ hd, hn = Custo por hora diurna e noturna<br>
                    ‚Ä¢ Tfd, Tfn = Tempo de funcionamento diurno e noturno<br>
                    ‚Ä¢ K, X, Y = Fatores de atividade por tipo de √°rea<br>
                    ‚Ä¢ C1, C2, C3 = Coeficientes por tipo de ocupa√ß√£o
                </div>
            </div>

            <div class="factor-grid" id="final-factors">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div class="calculation-box" id="final-calculation">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div class="final-result" id="final-result">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div style="background: #f0fff4; padding: 25px; border-radius: 15px; margin: 30px 0; border-left: 5px solid #48bb78;">
                <h3 style="color: #2d3748; margin-bottom: 15px;">‚úÖ Entenda o Resultado</h3>
                <p style="font-size: 1.1em;">
                    Para saber o valor em reais, voc√™ precisa multiplicar o resultado pelo valor da UPF atual. 
                    Por exemplo, se a UPF vale R$ 100,00, sua TFFR ser√° o resultado √ó R$ 100,00. O valor da UPF √© 
                    atualizado anualmente pela prefeitura.
                </p>
            </div>

            <div class="warning-box">
                <strong>Compara√ß√£o de outros tamanhos:</strong><br>
                ‚Ä¢ <strong>Estabelecimento pequeno (50m¬≤, 8h diurnas):</strong> TFFR = 1,44 √ó UPF<br>
                ‚Ä¢ <strong>Estabelecimento m√©dio (120m¬≤, 10h diurnas + 2h noturnas):</strong> TFFR = 3,44 √ó UPF<br>
                ‚Ä¢ <strong>Estabelecimento grande (800m¬≤, 12h diurnas):</strong> TFFR = 22,8 √ó UPF<br>
                O valor cresce conforme o tamanho e complexidade da fiscaliza√ß√£o necess√°ria.
            </div>

            <div class="tip-box">
                <strong>üí∞ Informa√ß√µes importantes sobre pagamento:</strong><br>
                ‚Ä¢ <strong>Vencimento:</strong> A cada 12 meses da data de in√≠cio do funcionamento<br>
                ‚Ä¢ <strong>Parcelamento:</strong> Pode ser antecipadamente parcelado em at√© 3 vezes<br>
                ‚Ä¢ <strong>Base legal:</strong> Lei Complementar n¬∫ 878/2021<br>
                ‚Ä¢ <strong>Consultas:</strong> Portal da SEMFAZ ou atendimento presencial<br>
                ‚Ä¢ <strong>Finalidade:</strong> Custear fiscaliza√ß√£o e controle de atividades
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="interactive-button-primary" onclick="showSummary()">üìã Ver resumo completo</button>
                <button class="interactive-button-secondary" onclick="resetSteps()">üîÑ Voltar ao in√≠cio</button>
            </div>
        </div>

        <!-- Resumo Final -->
        <div class="section hidden" id="summary">
            <h2 class="section-title">
                <span class="icon">üìã</span>
                Resumo Completo - Como sua TFFR foi calculada
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0;" id="summary-cards">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div class="formula-box" id="summary-formula">
                <!-- Conte√∫do ser√° preenchido dinamicamente pelo JavaScript -->
            </div>

            <div style="background: #f7fafc; border: 2px solid #9f7aea; border-radius: 15px; padding: 25px; margin: 30px 0;">
                <h3 style="color: #2d3748; margin-bottom: 20px; text-align: center;">‚ùì Perguntas Frequentes</h3>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e53e3e; margin-bottom: 5px;">üìà Por que minha TFFR aumentou?</h4>
                    <p style="margin-left: 15px;">O valor pode aumentar se voc√™ ampliou o estabelecimento, mudou o hor√°rio de funcionamento ou se houve reajuste da UPF.</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e53e3e; margin-bottom: 5px;">üí≥ Como pagar a TFFR?</h4>
                    <p style="margin-left: 15px;">Pode ser pago em cota √∫nica ou parcelado em at√© 3 vezes. Use o portal <a href="https://gpi-trb.portovelho.ro.gov.br/ServerExec/acessoBase/?idPortal=dbde30ec-cf59-4803-9653-00121a704021" target="_blank" style="color: #9f7aea;">SEMFAZ Online</a> para emitir o DAM.</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e53e3e; margin-bottom: 5px;">ü§î Acho o valor incorreto, o que fazer?</h4>
                    <p style="margin-left: 15px;">Voc√™ pode solicitar revis√£o na SEMFAZ apresentando documentos que comprovem erro na √°rea, hor√°rio de funcionamento ou tipo de atividade.</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e53e3e; margin-bottom: 5px;">üìä Qual o valor atual da UPF?</h4>
                    <p style="margin-left: 15px;">O valor da UPF √© atualizado anualmente. Consulte no <a href="https://www.portovelho.ro.gov.br/uploads/arquivos/2025/06/67765/1749038203upf-ate-2025.pdf" target="_blank" style="color: #9f7aea;">portal da SEMFAZ</a> ou na legisla√ß√£o municipal vigente.</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e53e3e; margin-bottom: 5px;">üèóÔ∏è Ampliei meu estabelecimento, a taxa muda?</h4>
                    <p style="margin-left: 15px;">Sim, se a amplia√ß√£o mudou a faixa de √°rea (ex: de 45m¬≤ para 60m¬≤), o fator de atividade e consequentemente a TFFR mudar√£o.</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e53e3e; margin-bottom: 5px;">üïê Mudei o hor√°rio, preciso informar?</h4>
                    <p style="margin-left: 15px;">Sim, mudan√ßas significativas no hor√°rio (especialmente se passar a funcionar no per√≠odo noturno) podem alterar o valor da TFFR.</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e53e3e; margin-bottom: 5px;">‚ùå E se eu n√£o pagar a TFFR?</h4>
                    <p style="margin-left: 15px;">O n√£o pagamento pode resultar em multa, inscri√ß√£o em d√≠vida ativa e at√© interdi√ß√£o do estabelecimento por parte da fiscaliza√ß√£o municipal.</p>
                </div>
            </div>

            <div style="background: #f0fff4; padding: 25px; border-radius: 15px; margin-top: 30px; border-left: 5px solid #48bb78;">
                <h3 style="color: #2d3748; margin-bottom: 15px;">üéØ Agora voc√™ sabe!</h3>
                <p style="font-size: 1.1em;">
                    A TFFR n√£o √© um valor arbitr√°rio. Ela √© calculada com base no custo real da fiscaliza√ß√£o, 
                    considerando o tempo de funcionamento e o tamanho do estabelecimento. √â um processo transparente 
                    que segue a Lei Complementar n¬∫ 878/2021 e visa custear os servi√ßos de controle e fiscaliza√ß√£o 
                    que garantem o funcionamento adequado das atividades econ√¥micas na cidade.
                </p>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedType = '';
        const totalSteps = 5;

        // Dados dos diferentes tipos de estabelecimento
        const businessTypes = {
            pequeno: {
                name: 'Loja de Roupas "Moda & Estilo"',
                icon: 'üè™',
                area: 50,
                timeDiurno: 8,
                timeNoturno: 0,
                schedule: 'Segunda a Sexta das 8h √†s 16h',
                factor: 1.20,
                timeMultiplier: 1.2,
                areaMultiplier: 1.20,
                finalResult: 1.44
            },
            medio: {
                name: 'Farm√°cia "Sa√∫de & Vida"',
                icon: 'üè¢',
                area: 120,
                timeDiurno: 10,
                timeNoturno: 2,
                schedule: 'Segunda a S√°bado das 7h √†s 19h',
                factor: 2.00,
                timeMultiplier: 1.9,
                areaMultiplier: 2.00,
                finalResult: 3.8
            },
            grande: {
                name: 'Dep√≥sito "Log√≠stica Central"',
                icon: 'üè≠',
                area: 800,
                timeDiurno: 12,
                timeNoturno: 0,
                schedule: 'Segunda a S√°bado das 6h √†s 18h',
                factor: 12.60,
                timeMultiplier: 1.8,
                areaMultiplier: 12.60,
                finalResult: 22.68
            }
        };

        function selectType(type) {
            selectedType = type;
            
            // Reset visual state of cards
            document.querySelectorAll('.type-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selected state to clicked card
            document.getElementById(type + '-card').classList.add('selected');
            
            // Enable continue button
            const continueButton = document.getElementById('continue-button');
            continueButton.style.opacity = '1';
            continueButton.style.cursor = 'pointer';
            continueButton.disabled = false;
            
            console.log('Tipo selecionado:', type);
        }

        function updateContent() {
            if (!selectedType) return;
            
            const business = businessTypes[selectedType];
            
            // Update time section
            updateTimeSection(business);
            
            // Update area section
            updateAreaSection(business);
            
            // Update final calculation
            updateFinalSection(business);
            
            // Update summary
            updateSummary(business);
        }

        function updateTimeSection(business) {
            // Update example box
            document.getElementById('time-example').innerHTML = `
                <h4>${business.icon} Nosso exemplo: ${business.name}</h4>
                <p><strong>Funcionamento:</strong> ${business.schedule}<br>
                <strong>M√©dia di√°ria:</strong> ${business.timeDiurno} horas diurnas, ${business.timeNoturno} horas noturnas</p>
            `;
            
            // Update factor cards
            document.getElementById('time-factors').innerHTML = `
                <div class="factor-card">
                    <h4>üåÖ Tempo Diurno</h4>
                    <div class="factor-value">${business.timeDiurno}h</div>
                    <p>Per√≠odo das 6h √†s 18h</p>
                </div>
                <div class="factor-card">
                    <h4>üåô Tempo Noturno</h4>
                    <div class="factor-value">${business.timeNoturno}h</div>
                    <p>Per√≠odo das 18h √†s 6h</p>
                </div>
                <div class="factor-card">
                    <h4>üí∞ Custo Total</h4>
                    <div class="factor-value">${business.timeMultiplier} UPF</div>
                    <p>Soma dos custos por hora</p>
                </div>
            `;
            
            // Update calculation box
            document.getElementById('time-calculation').innerHTML = `
                <h3>üßÆ C√°lculo do Componente Tempo</h3>
                <div style="font-family: 'Courier New', monospace; text-align: left; background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <strong>F√≥rmula:</strong> (hd √ó Tfd) + (hn √ó Tfn)<br><br>
                    <strong>Onde:</strong><br>
                    ‚Ä¢ hd = 0,15 UPF (custo hora diurna)<br>
                    ‚Ä¢ Tfd = ${business.timeDiurno} horas (tempo diurno)<br>
                    ‚Ä¢ hn = 0,20 UPF (custo hora noturna)<br>
                    ‚Ä¢ Tfn = ${business.timeNoturno} horas (tempo noturno)<br><br>
                    <strong>C√°lculo:</strong><br>
                    (0,15 √ó ${business.timeDiurno}) + (0,20 √ó ${business.timeNoturno}) = ${business.timeMultiplier} UPF
                </div>
            `;
            
            // Update progress
            document.getElementById('time-progress').textContent = `Componente Tempo: ${business.timeMultiplier} √ó UPF`;
        }

        function updateAreaSection(business) {
            // Update example box
            document.getElementById('area-example').innerHTML = `
                <h4>${business.icon} Nosso exemplo: ${business.name}</h4>
                <p><strong>√Årea total:</strong> ${business.area} m¬≤ (toda √°rea √© constru√≠da e utilizada)<br>
                <strong>Tipo de √°rea:</strong> 100% √°rea constru√≠da com atividade econ√¥mica</p>
            `;
            
            // Update table highlighting the relevant row
            const tableRows = getTableRows(business.area);
            document.getElementById('activity-table').innerHTML = tableRows;
            
            // Update coefficient info
            document.getElementById('area-coefficient-info').textContent = 
                `Para ${business.name}: toda √°rea √© constru√≠da, ent√£o usamos C1 = 1,0`;
            
            // Update factor cards
            document.getElementById('area-factors').innerHTML = `
                <div class="factor-card">
                    <h4>üìè √Årea do Estabelecimento</h4>
                    <div class="factor-value">${business.area} m¬≤</div>
                    <p>√Årea total constru√≠da</p>
                </div>
                <div class="factor-card">
                    <h4>‚öñÔ∏è Fator de Atividade (K)</h4>
                    <div class="factor-value">${business.factor}</div>
                    <p>Conforme tabela para ${business.area}m¬≤</p>
                </div>
                <div class="factor-card">
                    <h4>üè¢ Coeficiente (C1)</h4>
                    <div class="factor-value">1,0</div>
                    <p>√Årea totalmente constru√≠da</p>
                </div>
            `;
            
            // Update calculation box
            document.getElementById('area-calculation').innerHTML = `
                <h3>üßÆ C√°lculo do Componente √Årea</h3>
                <div style="font-family: 'Courier New', monospace; text-align: left; background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <strong>F√≥rmula:</strong> (K √ó C1) + (X √ó C2) + (Y √ó C3)<br><br>
                    <strong>Para nosso estabelecimento:</strong><br>
                    ‚Ä¢ K = ${business.factor} (fator para ${business.area}m¬≤)<br>
                    ‚Ä¢ C1 = 1,0 (√°rea constru√≠da)<br>
                    ‚Ä¢ X = 0 (sem √°rea apenas econ√¥mica)<br>
                    ‚Ä¢ Y = 0 (sem √°rea n√£o utilizada)<br><br>
                    <strong>C√°lculo:</strong><br>
                    (${business.factor} √ó 1,0) + (0 √ó 0,75) + (0 √ó 0,25) = ${business.areaMultiplier}
                </div>
            `;
            
            // Update progress
            document.getElementById('area-progress').textContent = `Componente √Årea: ${business.areaMultiplier}`;
        }

        function updateFinalSection(business) {
            // Update factor cards
            document.getElementById('final-factors').innerHTML = `
                <div class="factor-card">
                    <h4>‚è∞ Componente Tempo</h4>
                    <div class="factor-value">${business.timeMultiplier} UPF</div>
                    <p>${business.timeDiurno}h diurnas + ${business.timeNoturno}h noturnas</p>
                </div>
                <div class="factor-card">
                    <h4>üìè Componente √Årea</h4>
                    <div class="factor-value">${business.areaMultiplier}</div>
                    <p>Fator ${business.factor} √ó Coeficiente 1,0</p>
                </div>
                <div class="factor-card">
                    <h4>üßÆ Opera√ß√£o</h4>
                    <div class="factor-value">√ó</div>
                    <p>Multiplica√ß√£o dos componentes</p>
                </div>
            `;
            
            // Update calculation
            document.getElementById('final-calculation').innerHTML = `
                <h3>üéØ C√°lculo Passo a Passo:</h3>
                <div style="font-family: 'Courier New', monospace; font-size: 1.1em; margin: 15px 0;">
                    TFFR = (${business.timeMultiplier} UPF) √ó (${business.areaMultiplier})<br>
                    TFFR = ${business.finalResult.toFixed(2)} √ó UPF
                </div>
            `;
            
            // Update final result
            document.getElementById('final-result').innerHTML = `
                <h3>üéâ Resultado Final</h3>
                <div style="font-size: 2em; margin: 20px 0;">
                    <strong>${business.finalResult.toFixed(2)} √ó UPF</strong>
                </div>
                <p>A TFFR do estabelecimento ser√° ${business.finalResult.toFixed(2)} vezes o valor da UPF vigente!</p>
            `;
        }

        function updateSummary(business) {
            // Update summary cards
            document.getElementById('summary-cards').innerHTML = `
                <div style="background: linear-gradient(135deg, #9f7aea, #667eea); color: white; padding: 20px; border-radius: 10px;">
                    <h4>‚è∞ Tempo de Funcionamento</h4>
                    <p>${business.timeDiurno}h diurnas + ${business.timeNoturno}h noturnas</p>
                    <h3>${business.timeMultiplier} √ó UPF</h3>
                </div>
                
                <div style="background: linear-gradient(135deg, #f6ad55, #ed8936); color: white; padding: 20px; border-radius: 10px;">
                    <h4>üìè Fator de Atividade</h4>
                    <p>${business.area}m¬≤ = Fator ${business.factor} √ó C1 1,0</p>
                    <h3>${business.areaMultiplier}</h3>
                </div>
                
                <div style="background: linear-gradient(135deg, #48bb78, #38a169); color: white; padding: 20px; border-radius: 10px;">
                    <h4>üßÆ TFFR Final</h4>
                    <p>${business.timeMultiplier} √ó UPF √ó ${business.areaMultiplier}</p>
                    <h3>${business.finalResult.toFixed(2)} √ó UPF</h3>
                </div>
            `;
            
            // Update summary formula
            document.getElementById('summary-formula').innerHTML = `
                <div class="formula-title">üéØ F√≥rmula Completa da TFFR</div>
                <div class="formula-content">TFFR = [(hd √ó Tfd) + (hn √ó Tfn)] √ó [(K √ó C1) + (X √ó C2) + (Y √ó C3)]</div>
                <div class="formula-variables">
                    <strong>Resultado para ${business.name} (${business.area}m¬≤, ${business.timeDiurno}h diurnas + ${business.timeNoturno}h noturnas):</strong><br>
                    TFFR = [(0,15 √ó ${business.timeDiurno}) + (0,20 √ó ${business.timeNoturno})] √ó [(${business.factor} √ó 1) + (0 √ó 0,75) + (0 √ó 0,25)]<br>
                    TFFR = [${business.timeMultiplier}] √ó [${business.areaMultiplier}] = ${business.finalResult.toFixed(2)} √ó UPF
                </div>
            `;
        }

        function getTableRows(area) {
            let html = '';
            
            // PEQUENA ATIVIDADE
            const highlightPequena = area <= 30 ? ' class="highlight"' : '';
            html += `<tr${highlightPequena}>
                <td><strong>PEQUENA ATIVIDADE</strong></td>
                <td>At√© 30m¬≤</td>
                <td>1,00</td>
                <td>Banca de jornal, pequeno sal√£o</td>
            </tr>`;
            
            // M√âDIA ATIVIDADE
            const highlight31_40 = (area >= 31 && area <= 40) ? ' class="highlight"' : '';
            const highlight41_50 = (area >= 41 && area <= 50) ? ' class="highlight"' : '';
            const highlight51_60 = (area >= 51 && area <= 60) ? ' class="highlight"' : '';
            const highlight61_70 = (area >= 61 && area <= 70) ? ' class="highlight"' : '';
            const highlight71_80 = (area >= 71 && area <= 80) ? ' class="highlight"' : '';
            const highlight81_90 = (area >= 81 && area <= 90) ? ' class="highlight"' : '';
            const highlight91_100 = (area >= 91 && area <= 100) ? ' class="highlight"' : '';
            
            html += `<tr${highlight31_40}>
                <td rowspan="7"><strong>M√âDIA ATIVIDADE</strong></td>
                <td>31-40m¬≤</td>
                <td>1,10</td>
                <td>Lanchonete pequena</td>
            </tr>
            <tr${highlight41_50}>
                <td>41-50m¬≤</td>
                <td>1,20</td>
                <td>Loja de roupas pequena</td>
            </tr>
            <tr${highlight51_60}>
                <td>51-60m¬≤</td>
                <td>1,30</td>
                <td>Farm√°cia pequena</td>
            </tr>
            <tr${highlight61_70}>
                <td>61-70m¬≤</td>
                <td>1,40</td>
                <td>Restaurante m√©dio</td>
            </tr>
            <tr${highlight71_80}>
                <td>71-80m¬≤</td>
                <td>1,50</td>
                <td>Loja de departamentos</td>
            </tr>
            <tr${highlight81_90}>
                <td>81-90m¬≤</td>
                <td>1,60</td>
                <td>Oficina mec√¢nica</td>
            </tr>
            <tr${highlight91_100}>
                <td>91-100m¬≤</td>
                <td>1,70</td>
                <td>Academia m√©dia</td>
            </tr>`;
            
            // GRANDE ATIVIDADE
            const highlight101_110 = (area >= 101 && area <= 110) ? ' class="highlight"' : '';
            const highlight111_120 = (area >= 111 && area <= 120) ? ' class="highlight"' : '';
            const highlight121_130 = (area >= 121 && area <= 130) ? ' class="highlight"' : '';
            const highlight131_140 = (area >= 131 && area <= 140) ? ' class="highlight"' : '';
            const highlight141_150 = (area >= 141 && area <= 150) ? ' class="highlight"' : '';
            const highlight151_200 = (area >= 151 && area <= 200) ? ' class="highlight"' : '';
            const highlight201_250 = (area >= 201 && area <= 250) ? ' class="highlight"' : '';
            const highlight251_300 = (area >= 251 && area <= 300) ? ' class="highlight"' : '';
            const highlight301_350 = (area >= 301 && area <= 350) ? ' class="highlight"' : '';
            const highlight351_400 = (area >= 351 && area <= 400) ? ' class="highlight"' : '';
            const highlight401_450 = (area >= 401 && area <= 450) ? ' class="highlight"' : '';
            const highlight451_500 = (area >= 451 && area <= 500) ? ' class="highlight"' : '';
            const highlight501_550 = (area >= 501 && area <= 550) ? ' class="highlight"' : '';
            const highlight551_600 = (area >= 551 && area <= 600) ? ' class="highlight"' : '';
            const highlight601_650 = (area >= 601 && area <= 650) ? ' class="highlight"' : '';
            const highlight651_700 = (area >= 651 && area <= 700) ? ' class="highlight"' : '';
            const highlight701_750 = (area >= 701 && area <= 750) ? ' class="highlight"' : '';
            const highlight751_800 = (area >= 751 && area <= 800) ? ' class="highlight"' : '';
            const highlight801_850 = (area >= 801 && area <= 850) ? ' class="highlight"' : '';
            const highlight851_900 = (area >= 851 && area <= 900) ? ' class="highlight"' : '';
            const highlight901_950 = (area >= 901 && area <= 950) ? ' class="highlight"' : '';
            const highlight951_1000 = (area >= 951 && area <= 1000) ? ' class="highlight"' : '';
            const highlight1001_1050 = (area >= 1001 && area <= 1050) ? ' class="highlight"' : '';
            const highlight1051_1100 = (area >= 1051 && area <= 1100) ? ' class="highlight"' : '';
            const highlight1101_1150 = (area >= 1101 && area <= 1150) ? ' class="highlight"' : '';
            const highlight1151_1200 = (area >= 1151 && area <= 1200) ? ' class="highlight"' : '';
            const highlight1201_1250 = (area >= 1201 && area <= 1250) ? ' class="highlight"' : '';
            const highlight1251_1300 = (area >= 1251 && area <= 1300) ? ' class="highlight"' : '';
            const highlight1301_1350 = (area >= 1301 && area <= 1350) ? ' class="highlight"' : '';
            const highlight1351_1400 = (area >= 1351 && area <= 1400) ? ' class="highlight"' : '';
            const highlight1401_1450 = (area >= 1401 && area <= 1450) ? ' class="highlight"' : '';
            const highlight1451_1500 = (area >= 1451 && area <= 1500) ? ' class="highlight"' : '';
            const highlightAcima1500 = (area > 1500) ? ' class="highlight"' : '';
            
            html += `<tr${highlight101_110}>
                <td rowspan="33"><strong>GRANDE ATIVIDADE</strong></td>
                <td>101-110m¬≤</td>
                <td>2,00</td>
                <td>Supermercado pequeno</td>
            </tr>
            <tr${highlight111_120}>
                <td>111-120m¬≤</td>
                <td>2,10</td>
                <td>Farm√°cia grande</td>
            </tr>
            <tr${highlight121_130}>
                <td>121-130m¬≤</td>
                <td>2,20</td>
                <td>Padaria m√©dia</td>
            </tr>
            <tr${highlight131_140}>
                <td>131-140m¬≤</td>
                <td>2,30</td>
                <td>Pet shop grande</td>
            </tr>
            <tr${highlight141_150}>
                <td>141-150m¬≤</td>
                <td>2,50</td>
                <td>Cl√≠nica m√©dica</td>
            </tr>
            <tr${highlight151_200}>
                <td>151-200m¬≤</td>
                <td>3,00</td>
                <td>Mercado m√©dio</td>
            </tr>
            <tr${highlight201_250}>
                <td>201-250m¬≤</td>
                <td>3,80</td>
                <td>Loja de m√≥veis</td>
            </tr>
            <tr${highlight251_300}>
                <td>251-300m¬≤</td>
                <td>4,60</td>
                <td>Concession√°ria</td>
            </tr>
            <tr${highlight301_350}>
                <td>301-350m¬≤</td>
                <td>5,40</td>
                <td>Academia grande</td>
            </tr>
            <tr${highlight351_400}>
                <td>351-400m¬≤</td>
                <td>6,20</td>
                <td>Restaurante grande</td>
            </tr>
            <tr${highlight401_450}>
                <td>401-450m¬≤</td>
                <td>7,00</td>
                <td>Centro m√©dico</td>
            </tr>
            <tr${highlight451_500}>
                <td>451-500m¬≤</td>
                <td>7,80</td>
                <td>Loja departamentos</td>
            </tr>
            <tr${highlight501_550}>
                <td>501-550m¬≤</td>
                <td>8,60</td>
                <td>Oficina grande</td>
            </tr>
            <tr${highlight551_600}>
                <td>551-600m¬≤</td>
                <td>9,40</td>
                <td>Galp√£o pequeno</td>
            </tr>
            <tr${highlight601_650}>
                <td>601-650m¬≤</td>
                <td>10,20</td>
                <td>Warehouse pequeno</td>
            </tr>
            <tr${highlight651_700}>
                <td>651-700m¬≤</td>
                <td>11,00</td>
                <td>F√°brica artesanal</td>
            </tr>
            <tr${highlight701_750}>
                <td>701-750m¬≤</td>
                <td>11,80</td>
                <td>Centro distribui√ß√£o</td>
            </tr>
            <tr${highlight751_800}>
                <td>751-800m¬≤</td>
                <td>12,60</td>
                <td>Ind√∫stria pequena</td>
            </tr>
            <tr${highlight801_850}>
                <td>801-850m¬≤</td>
                <td>13,40</td>
                <td>Dep√≥sito m√©dio</td>
            </tr>
            <tr${highlight851_900}>
                <td>851-900m¬≤</td>
                <td>14,20</td>
                <td>Galp√£o comercial</td>
            </tr>
            <tr${highlight901_950}>
                <td>901-950m¬≤</td>
                <td>15,00</td>
                <td>Centro de distribui√ß√£o</td>
            </tr>
            <tr${highlight951_1000}>
                <td>951-1.000m¬≤</td>
                <td>15,80</td>
                <td>F√°brica pequena</td>
            </tr>
            <tr${highlight1001_1050}>
                <td>1.001-1.050m¬≤</td>
                <td>16,60</td>
                <td>Ind√∫stria aliment√≠cia</td>
            </tr>
            <tr${highlight1051_1100}>
                <td>1.051-1.100m¬≤</td>
                <td>17,40</td>
                <td>Montadora</td>
            </tr>
            <tr${highlight1101_1150}>
                <td>1.101-1.150m¬≤</td>
                <td>18,20</td>
                <td>Dep√≥sito grande</td>
            </tr>
            <tr${highlight1151_1200}>
                <td>1.151-1.200m¬≤</td>
                <td>19,00</td>
                <td>Centro log√≠stico</td>
            </tr>
            <tr${highlight1201_1250}>
                <td>1.201-1.250m¬≤</td>
                <td>19,80</td>
                <td>F√°brica t√™xtil</td>
            </tr>
            <tr${highlight1251_1300}>
                <td>1.251-1.300m¬≤</td>
                <td>20,60</td>
                <td>Usina de beneficiamento</td>
            </tr>
            <tr${highlight1301_1350}>
                <td>1.301-1.350m¬≤</td>
                <td>21,40</td>
                <td>Frigor√≠fico</td>
            </tr>
            <tr${highlight1351_1400}>
                <td>1.351-1.400m¬≤</td>
                <td>22,20</td>
                <td>Ind√∫stria qu√≠mica</td>
            </tr>
            <tr${highlight1401_1450}>
                <td>1.401-1.450m¬≤</td>
                <td>23,00</td>
                <td>Sider√∫rgica pequena</td>
            </tr>
            <tr${highlight1451_1500}>
                <td>1.451-1.500m¬≤</td>
                <td>23,80</td>
                <td>Complexo industrial</td>
            </tr>
            <tr${highlightAcima1500}>
                <td>Acima de 1.500m¬≤</td>
                <td>23,80 + (0,70 √ó cada 50m¬≤ extras)</td>
                <td>Ind√∫strias, grandes dep√≥sitos</td>
            </tr>`;
            
            return html;
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                // Hide current step
                document.querySelector(`.step-content[data-step="${currentStep}"]`).classList.add('hidden');
                
                // Show next step
                currentStep++;
                const nextElement = document.querySelector(`.step-content[data-step="${currentStep}"]`);
                if (nextElement) {
                    nextElement.classList.remove('hidden');
                }
                
                // Update content if a type is selected
                if (selectedType && currentStep >= 3) {
                    updateContent();
                }
                
                updateStepIndicator();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function updateStepIndicator() {
            document.querySelectorAll('.step').forEach((step, index) => {
                const stepNumber = index + 1;
                if (stepNumber <= currentStep) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }

        function resetSteps() {
            // Hide all step content
            document.querySelectorAll('.step-content').forEach(step => {
                step.classList.add('hidden');
            });
            document.getElementById('summary').classList.add('hidden');
            
            // Reset type selection
            selectedType = '';
            document.querySelectorAll('.type-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Disable continue button
            const continueButton = document.getElementById('continue-button');
            if (continueButton) {
                continueButton.style.opacity = '0.5';
                continueButton.style.cursor = 'not-allowed';
                continueButton.disabled = true;
            }
            
            // Show first step
            currentStep = 1;
            document.querySelector(`.step-content[data-step="${currentStep}"]`).classList.remove('hidden');
            updateStepIndicator();
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showSummary() {
            // Hide all step content
            document.querySelectorAll('.step-content').forEach(step => {
                step.classList.add('hidden');
            });
            
            // Update summary content if type is selected
            if (selectedType) {
                updateSummary(businessTypes[selectedType]);
            }
            
            // Show summary
            document.getElementById('summary').classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Add click handlers to step indicators
        function initializeStepIndicators() {
            document.querySelectorAll('.step').forEach((step, index) => {
                step.addEventListener('click', () => {
                    const targetStep = index + 1;
                    
                    if (targetStep <= currentStep) {
                        // Hide current step
                        document.querySelector(`.step-content[data-step="${currentStep}"]`).classList.add('hidden');
                        
                        // Show target step
                        currentStep = targetStep;
                        const targetElement = document.querySelector(`.step-content[data-step="${currentStep}"]`);
                        if (targetElement) {
                            targetElement.classList.remove('hidden');
                        }
                        
                        // Update content if needed
                        if (selectedType && currentStep >= 3) {
                            updateContent();
                        }
                        
                        updateStepIndicator();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                });
            });
        }

        // Animate progress bars when they come into view
        function animateProgressBars() {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            setTimeout(() => {
                                const currentWidth = entry.target.style.width;
                                entry.target.style.width = '0%';
                                setTimeout(() => {
                                    entry.target.style.width = currentWidth;
                                }, 100);
                            }, 500);
                        }
                    });
                });
                observer.observe(bar);
            });
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeStepIndicators();
            animateProgressBars();
            updateStepIndicator();
        });
    </script>
</body>
</html>
